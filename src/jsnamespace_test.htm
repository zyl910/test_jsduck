<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>测试JavaScript 命名空间</title>
</head>
<body>
<script type="text/javascript" src="jsnamespace.js"></script>
<script type="text/javascript" src="jsnamespace_sub.js"></script>

<script type="text/javascript">

/** 追加日志.
 *
 * @param {String}	str	日志字符串.
 */
function addlog(str) {
	var txtresult = document.getElementById("txtresult");
	txtresult.value = txtresult.value + str + "\r\n";
}

/** 测试. */
function doTest() {
	var txtresult = document.getElementById("txtresult");
	txtresult.value = "";
	// do
	//alert(jsnamespace);
	var p1 = new jsnamespace.PersonInfo();
	p1.name = "Zhang San";	// 张三.
	p1.gender = jsnamespace.GenderCode.MALE;
	var p2 = new jsnamespace.Employee({"name": "Li Si", "gender": jsnamespace.GenderCode.FEMALE, "email": "lisi@mail.com"});	// 李四.
	var p3 = new jsnamespace.Staff({"name": "Wang Wu", "gender": jsnamespace.GenderCode.MALE, "email": "lisi@mail.com", "duty": "主任"});	// 王五.
	addlog(p1.getHello());
	addlog(p2.getHello());
	addlog(p3.getHello());
	// setWordHello.
	addlog("// setWordHello");
	jsnamespace.PersonInfo.setWordHello("Welcome");
	addlog(p1.getHello());
	addlog(p2.getHello());
	addlog(p3.getHello());
	// instanceof.
	addlog("// instanceof");
	addlog("p1 instanceof jsnamespace.PersonInfo: " + (p1 instanceof jsnamespace.PersonInfo) );
	addlog("p1 instanceof jsnamespace.Employee: " + (p1 instanceof jsnamespace.Employee) );
	addlog("p1 instanceof jsnamespace.Staff: " + (p1 instanceof jsnamespace.Staff) );
	addlog("p2 instanceof jsnamespace.PersonInfo: " + (p2 instanceof jsnamespace.PersonInfo) );
	addlog("p2 instanceof jsnamespace.Employee: " + (p2 instanceof jsnamespace.Employee) );
	addlog("p2 instanceof jsnamespace.Staff: " + (p2 instanceof jsnamespace.Staff) );
	addlog("p3 instanceof jsnamespace.PersonInfo: " + (p3 instanceof jsnamespace.PersonInfo) );
	addlog("p3 instanceof jsnamespace.Employee: " + (p3 instanceof jsnamespace.Employee) );
	addlog("p3 instanceof jsnamespace.Staff: " + (p3 instanceof jsnamespace.Staff) );
	// PersonInfoUtil.
	//jsnamespace.PersonInfoUtil.show(p1);
	//jsnamespace.PersonInfoUtil.show(p2);
	//jsnamespace.PersonInfoUtil.show(p3);
}

/** 测试Cat. */
function doTestCat() {
	var c = jsnamespace.sub.Cat.createNew();
	c.makeSound();
}


</script>
<h1>测试JavaScript 命名空间</h1>

<input type="button" value="测试" OnClick="doTest();" title="doTest" />
&nbsp; <input type="button" value="测试Cat" OnClick="doTestCat();" title="doTestCat" />
<br/>
输出:<br/>
<textarea id="txtresult" rows="12" style="width:95%" readonly ></textarea>

</body>
</html>